<!DOCTYPE html>
<html lang="en">
<script>
    var data = {
        age: 18,
        name: "这是真的难",
        education: ["小学", "初中", "高中", "大学", undefined, null],
        friends: [
            { name: "Amber", sex: "woman" },
            { name: "Barbara", sex: "woman" },
            { name: "Venti", sex: "man" }],
        work: {
            time: "2021",
            project: { name: "test", obtain: ["css", "html", "js"] }
        },
        play: function () { console.log("玩滑板"); }
    }

    copyObj = source => {
        const targetObj = source.constructor === Array ? [] : {}; // 判断复制的目标是数组还是对象
        for (let keys in source) { // 遍历目标
            if (source.hasOwnProperty(keys)) {
                if (source[keys] && typeof source[keys] === 'object') { // 如果值是对象，就递归一下
                    targetObj[keys] = source[keys].constructor === Array ? [] : {};
                    targetObj[keys] = copyObj(source[keys]);
                } else { // 如果不是，就直接赋值
                    targetObj[keys] = source[keys];
                }
            }
        }
        return targetObj;
    }

    let p = copyObj(data);
    console.log(data);
    console.log(p);
</script>